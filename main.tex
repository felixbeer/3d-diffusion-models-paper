% Select language used in document (ngerman or english). Automatically
% generated text is translated accordingly.
% use \selectthesislanguage in body.tex to switch to default language

%\documentclass[ngerman, paper]{mmt} % use for seminar paper
%\documentclass[ngerman, reviewversion]{mmt} % use for anonymized review version
%\documentclass[ngerman, bachelorthesis]{mmt} % use for Bachelor thesis
\documentclass[english, paper]{mmt} % use for Master thesis

\usepackage{mathptmx}
\usepackage{graphicx}
\usepackage{times}
\usepackage{subfig}
\usepackage{float}
\usepackage[utf8]{inputenc}
\usepackage[newfloat,langlinenos]{minted}
\usepackage{makecell}
\usepackage[toc,page]{appendix}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
\usepackage{breakurl}

\usepackage{amsmath}
\usepackage[autostyle,german=guillemets]{csquotes}

\usepackage{verbatim}

\newcommand{\detailtexcount}[1]{%
  \immediate\write18{texcount -merge -sum -q #1.tex > #1.wcdetail }%
  \verbatiminput{#1.wcdetail}%
}

% command for highlighting text that was generate with AI support
\newcommand{\aigen}[1]{\textcolor{blue}{#1}}

% moved to cls file. use \selectthesislanguage to switch to default language
%\usepackage[english,ngerman]{babel}

\usepackage{acronym}
\usepackage{abbrevs}
%% the following solves a bug in the abbrevs package, that adds an empty
%% space after the abbrev
\makeatletter
\renewcommand\maybe@space@{%
  % \@tempswatrue % <= this is in the original
  \maybe@ictrue % <= this is new
  \expandafter   \@tfor
    \expandafter \reserved@a
    \expandafter :%
    \expandafter =%
                 \nospacelist
                 \do \t@st@ic
  % \if@tempswa % <= this is in the original
  \ifmaybe@ic % <= this is new
    \space
  \fi
}
\makeatother
%%

%% ADD HERE YOUR CUSTOM CODE ENVIRONMENT AND SET DEFAULT VALUES %%
%% See https://mirror.kumi.systems/ctan/macros/latex/contrib/minted/minted.pdf
%% for
\newminted{csharp}{linenos,autogobble,fontsize=\footnotesize}
% \newminted{cpp}{linenos,autogobble,fontsize=\footnotesize}
%% Use it then with \begin{csharpcode} \end{csharpcode} or \begin{cppcode} \end{cppcode}

\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\usepackage[url=false,authordate,bibencoding=auto,strict,noibid,backend=biber]{biblatex-chicago}
\bibliography{bibliography}
%% Add configuration options
\include{_configuration}

%% Paper title.

\title{\titlename}

%% This is how authors are specified in the conference style

%% Author
\author{ \authorname\\ \scriptsize \authormail \\ \scriptsize
\ifmmtlanguagegerman FH Salzburg \else Salzburg University of Applied Sciences \fi
}

%% A teaser figure can be included as follows, but is not recommended since
%% the space is now taken up by a full width abstract.
%\teaser{
%  \includegraphics[width=1.5in]{sample.eps}
%  \caption{This can be a teaser image of the thesis.}
%}

%% Abstract section for paper format.
\abstract{
    \ifmmtlanguagegerman
        \selectlanguage{ngerman}
        \input{kurzfassung}
    \else
        \selectlanguage{english}
        \input{abstract}
    \fi
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%% START OF THE PAPER %%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
% TODO switch for english, german
\selectthesislanguage

\pagenumbering{gobble}

 % group open
\ifmmtpaper
    \begingroup
    % is required because paper template messes with sizes
    \fontsize{12}{18}\selectfont
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{5pt plus 2pt minus 1pt}
    \sectionfont{\fontsize{14}{15}\selectfont}
\fi

\ifmmtreviewversion
    \titlename
\else
    \input{title}
\fi

    \onecolumn

    \pagenumbering{roman}

\ifmmtpaper % does not need affidavit
\else \ifmmtreviewversion
      \else
        \newpage
        \input{affidavit}  % comment out for expose
      \fi
\fi
% group closing
\ifmmtpaper
\endgroup
\fi


\ifmmtpaper \else  % paper does not need this stuff

    \newpage
    \selectlanguage{ngerman}
    \section*{Kurzfassung}
    \input{kurzfassung}
    \ifmmtmasterthesis

    \vspace*{0.5cm}
    \textbf{Schlüsselwörter:~} \keywordsgerman
    \fi
    \newpage
    \selectlanguage{english}
    \section*{Abstract}
    \input{abstract}
    \ifmmtmasterthesis

    \vspace*{0.5cm}
    \textbf{Keywords:~} \keywordsenglish
    \fi
    \selectthesislanguage

    \newpage
    \tableofcontents

    \newpage
    \listoffigures
    \listoflistings
    \listoftables
    \input{abbreviations}

\fi


\mmtcolumnmode % switch back to column formatting of stylesheet

\maketitle % used for paper formatting

\ifmmtpaper\else
\pagestyle{headings}
\fi
\pagenumbering{arabic}


\input{body} % the main text

%\input{acknowledgements}

\ifmmtpaper

\printbibliography

\else % only use the following for thesis format

\newpage
\printbibliography

\fi


 % group open
\ifmmtpaper
\begingroup
    % is required because paper template messes with sizes
    \fontsize{12}{18}\selectfont
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{5pt plus 2pt minus 1pt}
    \sectionfont{\fontsize{14}{15}\selectfont}
\fi

\ifmmtpaper\else % nicht im paper

\newpage
\onecolumn
\input{appendix}

\fi

% group closing
\newpage

This work has the following word count (counted by texcount):
%TC:ignore
\detailtexcount{body}
%TC:endignore

\end{document}
